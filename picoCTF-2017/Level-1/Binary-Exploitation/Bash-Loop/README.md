# Bash Loop
**Category:** Binary Exploitation  **Points:** 40 

**Description:**
>We found a program that is hiding a flag but requires you to guess the number it is thinking of. 
Chances are Linux has an easy way to try all the numbers... Go to /problems/884bb3c8fc9e0dbccc09787c1b016cd4 and try it out!

**Hint:**
>Either use SSH or use the Web Shell to get onto the shell server and navigate to the correct directory. Then do a quick Google search on 'bash loops'. You may need to use grep to filter out the responses as well!

## Solve
Once you're in the problem directory you can see that there are two objects in the directory: 
```
dumblole@shell-web:/problems/884bb3c8fc9e0dbccc09787c1b016cd4
$ ls -la                                                     
total 60                                                     
drwxr-xr-x   2 root       root         4096 Mar 22  2017 .
drwxr-x--x 573 root       root        36864 Apr 16  2017 ..
-rwxr-sr-x   1 hacksports bash-loop_0  8216 Mar 31  2017 bash
loop
-r--r-----   1 hacksports bash-loop_0    33 Mar 31  2017 flag
```
Running bashloop `./bashloop` gives us this:
```
dumblole@shell-web:/problems/884bb3c8fc9e0dbccc09787c1b016cd4$ ./bashloop                                                 
What number am I thinking of? It is between 0 and 4096  
```
The program terminates immediately. So this means we have to execute the file with a value.
We can do this just like this: `./bashloop 'value'`

I don't reccommend trying to guess the number manually, but we can guess the number using a 
`bashloop`. You can find some info about bash loops [here](https://ryanstutorials.net/bash-scripting-tutorial/bash-loops.php "Bash Loops").

I created a small bashloop function:
```
dumblole@shell-web:/problems/884bb3c8fc9e0dbccc09787c1b016cd4$ for i in {0..4096}                                         
> do                                                         
> ./bashloop $i | grep flag                                  
> done       
```
What this does is basically run bashloop for every number between 0 and 4096 but only print out 
the response with the keyword `flag` in it.

We got the flag!
```
Yay! That's the number! Here be the flag: bcf9ac72d8721c303ae95239c2deacb3  
```
**Flag: bcf9ac72d8721c303ae95239c2deacb3**

## **References**
https://ryanstutorials.net/bash-scripting-tutorial/bash-loops.php
https://www.computerhope.com/unix/ugrep.htm
